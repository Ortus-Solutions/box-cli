{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"title": "CommandBox Server",
	"description": "Configuration file for a CommandBox server",
	"type": "object",
	"properties": {
		"name": {
			"title": "Name",
			"description": "The name of the server",
			"type": "string",
			"default": ""
		},
		"openBrowser": {
			"title": "Open Browser",
			"description": "",
			"type": "boolean",
			"default": true
		},
		"openBrowserURL": {
			"title": "Open Browser URL",
			"description": "",
			"type": "string",
			"default": ""
		},
		"startTimeout": {
			"title": "Open Browser URL",
			"description": "",
			"type": "number",
			"default": 240
		},
		"stopsocket": {
			"title": "Stop Socket",
			"description": "",
			"type": "number",
			"default": 0
		},
		"debug": {
			"title": "Debug",
			"description": "",
			"type": "boolean",
			"default": false
		},
		"trace": {
			"title": "Trace",
			"description": "",
			"type": "boolean",
			"default": false
		},
		"console": {
			"title": "Console",
			"description": "",
			"type": "boolean",
			"default": false
		},
		"trayEnable": {
			"title": "Tray Enable",
			"description": "",
			"type": "boolean",
			"default": true
		},
		"trayicon": {
			"title": "Tray Icon",
			"description": "Path to icon",
			"type": "string",
			"default": ""
		},
		"trayOptions": {
			"title": "Tray Options",
			"description": "",
			"type": "array",
			"minItems": 0,
			"items": {
				"title": "Tray Option",
				"description": "",
				"type": "object",
				"properties": {
					"label": {
						"title": "Label",
						"description": "",
						"type": "string"
					},
					"action": {
						"title": "Action",
						"description": "",
						"type": "string"
					},
					"url": {
						"title": "URL",
						"description": "",
						"type": "string"
					},
					"disabled": {
						"title": "Disabled",
						"description": "",
						"type": "boolean",
						"default": false
					},
					"image": {
						"title": "Image",
						"description": "Path to image",
						"type": "string",
						"default": ""
					}
				}
			},
			"default": []
		},
		"jvm": {
			"title": "JVM",
			"description": "JVM Options",
			"type": "object",
			"properties": {
				"heapSize": {
					"title": "Heap Size",
					"description": "The max heap size the server is allowed to have",
					"type": "number",
					"default": 512
				},
				"minHeapSize": {
					"title": "Minimum Heap Size",
					"description": "The starting heap size for the server",
					"type": "number",
					"default": 0
				},
				"args": {
					"title": "Arguments",
					"description": "Ad-hoc JVM args for the server",
					"type": "string",
					"default": ""
				},
				"javaHome": {
					"title": "Java Home",
					"description": "Path to custom JRE. Default is the one that the CommandBox CLI is using",
					"type": "string"
				}
			}
		},
		"web": {
			"title": "Web",
			"description": "Web Server Options",
			"type": "object",
			"properties": {
				"host": {
					"title": "Host",
					"description": "",
					"type": "string",
					"default": "127.0.0.1"
				},
				"webroot": {
					"title": "Webroot",
					"description": "Webroot directory",
					"type": "string",
					"default": ""
				},
				"directoryBrowsing": {
					"title": "Directory Browsing",
					"description": "",
					"type": "boolean",
					"default": true
				},
				"accessLogEnable": {
					"title": "Access Log Enable",
					"description": "",
					"type": "boolean",
					"default": true
				},
				"GZIPEnable": {
					"title": "GZIP Enable",
					"description": "",
					"type": "boolean",
					"default": true
				},
				"welcomeFiles": {
					"title": "Welcome Files",
					"description": "A comma-delimited list of files that you would like CommandBox to look for when a user hits a directory on a running server",
					"type": "string",
					"default": ""
				},
				"aliases": {
					"title": "Aliases",
					"description": "Web aliases for the web server, similar to virtual directories",
					"type": "object",
					"patternProperties": {
						"^(/[^/]+)+$": {
							"title": "Alias",
							"description": "The key is the web-accessible virtual path and the value is the relative or absolute path to the folder the alias points to.",
							"type": "string"
						}
					},
					"additionalProperties": false,
					"default": {}
				},
				"errorPages": {
					"title": "Error Pages",
					"description": "The error pages that CommandBox servers return. You can have a setting for each status code including a default error page to be used if no other setting applies.",
					"type": "object",
					"properties": {
						"default": {
							"title": "Default",
							"description": "Path to default error page",
							"type": "string",
							"default": ""
						}
					},
					"patternProperties": {
						"^[1-5][0-9]{2}$": {
							"title": "Error Page",
							"description": "The key is the status code integer and the value is a relative (to the web root) path to be loaded for that status code.",
							"type": "string"
						}
					},
					"additionalProperties": false,
					"default": {}
				},
				"HTTP": {
					"title": "HTTP",
					"description": "",
					"type": "object",
					"properties": {
						"enable": {
							"title": "Enable",
							"description": "",
							"type": "boolean",
							"default": true
						},
						"port": {
							"title": "Port",
							"description": "",
							"type": "number",
							"default": 0
						}
					}
				},
				"SSL": {
					"title": "SSL",
					"description": "",
					"type": "object",
					"properties": {
						"enable": {
							"title": "Enable",
							"description": "",
							"type": "boolean",
							"default": false
						},
						"port": {
							"title": "Port",
							"description": "",
							"type": "number",
							"default": 1443
						},
						"certFile": {
							"title": "Cert File",
							"description": "",
							"type": "string",
							"default": ""
						},
						"keyFile": {
							"title": "Key File",
							"description": "",
							"type": "string",
							"default": ""
						},
						"keyPass": {
							"title": "Key Pass",
							"description": "",
							"type": "string",
							"default": ""
						}
					}
				},
				"AJP": {
					"title": "AJP",
					"description": "",
					"type": "object",
					"properties": {
						"enable": {
							"title": "Enable",
							"description": "",
							"type": "boolean",
							"default": false
						},
						"port": {
							"title": "Port",
							"description": "",
							"type": "number",
							"default": 8009
						}
					}
				},
				"rewrites": {
					"title": "Rewrites",
					"description": "",
					"type": "object",
					"properties": {
						"enable": {
							"title": "Enable",
							"description": "",
							"type": "boolean",
							"default": false
						},
						"logEnable": {
							"title": "Log Enable",
							"description": "",
							"type": "boolean",
							"default": false
						},
						"config": {
							"title": "Config",
							"description": "Path to config.xml",
							"type": "string",
							"default": ""
						},
						"statusPath": {
							"title": "Status Path",
							"description": "",
							"type": "string",
							"default": ""
						},
						"configReloadSeconds": {
							"title": "Config Reload Seconds",
							"description": "",
							"type": "number"
						}
					}
				},
				"basicAuth": {
					"title": "Server Home Directory",
					"description": "",
					"type": "object",
					"properties": {
						"enable": {
							"title": "Enable",
							"description": "",
							"type": "boolean",
							"default": true
						},
						"users": {
							"title": "Users",
							"description": "",
							"type": "object",
							"additionalProperties": {
								"title": "User",
								"description": "The key is the user name and the value is the password.",
								"type": "string"
							},
							"default": {}
						}
					}
				}
			}
		},
		"app": {
			"title": "Application",
			"description": "Application Server Options",
			"type": "object",
			"properties": {
				"logDir": {
					"title": "Log Directory",
					"description": "",
					"type": "string",
					"default": ""
				},
				"libDirs": {
					"title": "Library Directories",
					"description": "A comma-delimited list of directories from which CommandBox will load JARs",
					"type": "string",
					"default": ""
				},
				"args": {
					"title": "Arguments",
					"description": "",
					"type": "string",
					"default": ""
				},
				"webConfigDir": {
					"title": "Web Configuration Directory",
					"description": "",
					"type": "string",
					"default": ""
				},
				"serverConfigDir": {
					"title": "Server Configuration Directory",
					"description": "",
					"type": "string",
					"default": ""
				},
				"webXML": {
					"title": "Web XML",
					"description": "",
					"type": "string",
					"default": ""
				},
				"WARPath": {
					"title": "WAR Path",
					"description": "",
					"type": "string",
					"default": ""
				},
				"cfengine": {
					"title": "CF Engine",
					"description": "",
					"type": "string",
					"default": ""
				},
				"restMappings": {
					"title": "REST Mappings",
					"description": "",
					"type": "string",
					"default": ""
				},
				"serverHomeDirectory": {
					"title": "Server Home Directory",
					"description": "",
					"type": "string",
					"default": ""
				},
				"sessionCookieSecure": {
					"title": "Session Cookie Secure",
					"description": "",
					"type": "boolean",
					"default": false
				},
				"sessionCookieHTTPOnly": {
					"title": "Session Cookie HttpOnly",
					"description": "",
					"type": "boolean",
					"default": false
				}
			}
		},
		"runwar": {
			"title": "Run WAR",
			"description": "",
			"type": "object",
			"properties": {
				"args": {
					"title": "Arguments",
					"description": "Ad-hoc options for the underlying Runwar library",
					"type": "string",
					"default": ""
				}
			}
		}
	}
}